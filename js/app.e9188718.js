(function(e){function t(t){for(var o,r,i=t[0],l=t[1],u=t[2],s=0,d=[];s<i.length;s++)r=i[s],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&d.push(c[r][0]),c[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,r=1;r<n.length;r++){var i=n[r];0!==c[i]&&(o=!1)}o&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},r={app:0},c={app:0},a=[];function i(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-0a837c04":"5b861dad","chunk-2fe668cb":"f984cb87"}[e]+".js"}function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={"chunk-0a837c04":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var o="css/"+({}[e]||e)+"."+{"chunk-0a837c04":"066cf821","chunk-2fe668cb":"31d6cfe0"}[e]+".css",c=l.p+o,a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var u=a[i],s=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(s===o||s===c))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],s=u.getAttribute("data-href");if(s===o||s===c)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var o=t&&t.target&&t.target.src||c,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete r[e],p.parentNode.removeChild(p),n(a)},p.href=c;var b=document.getElementsByTagName("head")[0];b.appendChild(p)})).then((function(){r[e]=0})));var o=c[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,n){o=c[e]=[t,n]}));t.push(o[2]=a);var u,s=document.createElement("script");s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=i(e);var d=new Error;u=function(t){s.onerror=s.onload=null,clearTimeout(p);var n=c[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",d.name="ChunkLoadError",d.type=o,d.request=r,n[1](d)}c[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:s})}),12e4);s.onerror=s.onload=u,document.head.appendChild(s)}return Promise.all(t)},l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/delaweb-app/",l.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"441a":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function r(e,t,n,r,c,a){return Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(r.layout))}var c=n("5502"),a={class:"navbar-item"},i=Object(o["createVNode"])("p",{class:"text-center main-text"},"Войдите чтобы получить доступ к расширенному функционалу",-1);function l(e,t,n,r,c,l){var u=Object(o["resolveComponent"])("the-navbar"),s=Object(o["resolveComponent"])("Home"),d=Object(o["resolveComponent"])("popup-login");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("li",a,[Object(o["createVNode"])("a",{href:"#",onClick:t[1]||(t[1]=function(){return l.popupOpen&&l.popupOpen.apply(l,arguments)})},"Войти")])]})),_:1}),Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[i]})),_:1}),Object(o["createVNode"])(d,{isOpen:c.isPopupOpen,onLogin:l.popupClose,onClose:t[2]||(t[2]=function(e){return c.isPopupOpen=!1})},null,8,["isOpen","onLogin"])],64)}var u={class:"navbar"},s=Object(o["createVNode"])("h3",null,"Delaweb-demo-app",-1),d={class:"navbar-menu"},p={class:"navbar-item"},b=Object(o["createTextVNode"])("Главная"),f={class:"navbar-item"},m=Object(o["createTextVNode"])("Профиль"),h={class:"navbar-item"};function O(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createBlock"])("nav",u,[s,Object(o["createVNode"])("ul",d,[Object(o["renderSlot"])(e.$slots,"default",{},(function(){return[Object(o["createVNode"])("li",p,[Object(o["createVNode"])(i,{to:"/"},{default:Object(o["withCtx"])((function(){return[b]})),_:1})]),Object(o["createVNode"])("li",f,[Object(o["createVNode"])(i,{to:"/profile"},{default:Object(o["withCtx"])((function(){return[m]})),_:1})]),Object(o["createVNode"])("li",h,[Object(o["createVNode"])("a",{href:"#",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(){return r.logout&&r.logout.apply(r,arguments)}),["prevent"]))},"Выйти")])]}))])])}var j=n("6c02"),v={setup:function(){var e=Object(j["c"])(),t=Object(c["b"])();return{logout:function(){t.commit("auth/logout"),e.push("/")}}}};v.render=O;var g=v,w={class:"popup-body"},y=Object(o["createVNode"])("h1",null,"Войти",-1),N=Object(o["createVNode"])("hr",null,null,-1),k={class:"pb-1"},V=Object(o["createVNode"])("label",{for:"email"},"Email",-1),C={key:0},x=Object(o["createVNode"])("label",{for:"password"},"Пароль",-1),S={key:0},T=Object(o["createVNode"])("hr",null,null,-1),L={class:"footer"},B=Object(o["createTextVNode"])("   ");function E(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("Loading");return n.isOpen?(Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])("div",{class:"popup backdrop",onClick:t[7]||(t[7]=function(){return a.close&&a.close.apply(a,arguments)})},[Object(o["createVNode"])("div",w,[Object(o["createVNode"])("form",{class:"popup-content",onSubmit:t[5]||(t[5]=Object(o["withModifiers"])((function(){return a.submitLogin&&a.submitLogin.apply(a,arguments)}),["prevent"])),onClick:t[6]||(t[6]=Object(o["withModifiers"])((function(){}),["stop"]))},[y,N,Object(o["createVNode"])("div",k,[Object(o["createVNode"])("div",{class:["form-control",{invalid:c.errors.email}]},[V,Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",id:"email",placeholder:"test@test.ru",required:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.email=e})},null,512),[[o["vModelText"],c.email]]),c.errors.email?(Object(o["openBlock"])(),Object(o["createBlock"])("small",C,Object(o["toDisplayString"])(c.errors.email),1)):Object(o["createCommentVNode"])("",!0)],2),Object(o["createVNode"])("div",{class:["form-control",{invalid:c.errors.password}]},[x,Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.password=e}),required:""},null,512),[[o["vModelText"],c.password]]),c.errors.password?(Object(o["openBlock"])(),Object(o["createBlock"])("small",S,Object(o["toDisplayString"])(c.errors.password),1)):Object(o["createCommentVNode"])("",!0)],2)]),T,Object(o["createVNode"])("div",L,[Object(o["createVNode"])("button",{type:"button",class:"btn",onClick:t[3]||(t[3]=function(){return a.close&&a.close.apply(a,arguments)})},"Отмена"),B,Object(o["createVNode"])("button",{type:"submit",class:"btn primary",onClick:t[4]||(t[4]=function(){return e.login&&e.login.apply(e,arguments)}),disabled:c.isLoading},"Войти",8,["disabled"])])],32)])]),Object(o["createVNode"])(i,{active:c.isLoading,"onUpdate:active":t[8]||(t[8]=function(e){return c.isLoading=e}),"is-full-page":!0,color:"rgb(0,123,255)"},null,8,["active"])],64)):Object(o["createCommentVNode"])("",!0)}n("498a");var P=n("9062"),_=n.n(P),A=(n("e40d"),{components:{Loading:_.a},props:{isOpen:Boolean},emits:{login:null,close:null},data:function(){return{email:"",password:"",errors:{email:null,password:null},isLoading:!1,store:Object(c["b"])()}},mounted:function(){document.addEventListener("keydown",this.handleKeydown)},beforeUnmount:function(){document.removeEventListener("keydown",this.handleKeydown)},methods:{handleKeydown:function(e){this.isOpen&&"Escape"===e.key&&this.close()},close:function(){this.$emit("close")},isFormValid:function(){var e=!0;if(0===this.email.trim().length&&(e=!1,this.errors.email="Email не должен быть пустым"),this.email.trim().length>0){var t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;t.test(this.email)||(e=!1,this.errors.email="Email некорректный")}return(0===this.password.trim().length||this.password.trim().length<8)&&(e=!1,this.errors.password="Пароль должен более 8 символов!"),e},submitLogin:function(){var e=this;this.isFormValid()&&(this.isLoading=!0,setTimeout((function(){e.$emit("login"),e.isLoading=!1,e.store.dispatch("auth/login")}),2e3),this.email="",this.password="",this.errors={email:null,password:null})}}});n("de2a");A.render=E;var M=A,D=Object(o["withScopeId"])("data-v-5ecf303d");Object(o["pushScopeId"])("data-v-5ecf303d");var I={class:"container with-nav card"},F={class:"text-center"},K=Object(o["createTextVNode"])("Добро пожаловать в демо личный кабинет "),U=Object(o["createVNode"])("br",null,null,-1),$=Object(o["createVNode"])("p",{class:"text-center main-text"}," Вы успешно авторизовались! Вам доступен просмотр и редактирование профиля. ",-1);Object(o["popScopeId"])();var H=D((function(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("Slider");return Object(o["openBlock"])(),Object(o["createBlock"])("div",I,[Object(o["createVNode"])("h1",F,[K,U,Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(c.APP_NAME)+"!",1)]),Object(o["renderSlot"])(e.$slots,"default",{},(function(){return[$]}),{},!0),Object(o["createVNode"])(i)])})),q=Object(o["createVNode"])("img",{width:"1000",height:"400",src:"https://via.placeholder.com/1000x400/5f5/000?text=Image+1"},null,-1),z=Object(o["createVNode"])("img",{width:"1000",height:"400",src:"https://via.placeholder.com/1000x400/f55/000?text=Image+2"},null,-1),Z=Object(o["createVNode"])("img",{width:"1000",height:"400",src:"https://via.placeholder.com/1000x400/55f/000?text=Image+3"},null,-1);function J(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("splide-slide"),l=Object(o["resolveComponent"])("splide");return Object(o["openBlock"])(),Object(o["createBlock"])(l,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[q]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[z]})),_:1}),Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Z]})),_:1})]})),_:1})}var R=n("5e2b"),G=(n("e50d"),{components:{Splide:R["a"],SplideSlide:R["b"]},data:function(){return{options:{rewind:!0,width:800,perPage:1,gap:"1rem"}}}});G.render=J;var Q=G,W={name:"Home",components:{Slider:Q},data:function(){return{APP_NAME:"Delaweb-demo-app"}}};n("f92c");W.render=H,W.__scopeId="data-v-5ecf303d";var X=W,Y={components:{TheNavbar:g,PopupLogin:M,Home:X},data:function(){return{isPopupOpen:!1}},methods:{popupOpen:function(){this.isPopupOpen=!0},popupClose:function(){this.isPopupOpen=!1}}};Y.render=l;var ee=Y;function te(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("the-navbar"),l=Object(o["resolveComponent"])("router-view");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(i),Object(o["createVNode"])(l)],64)}var ne={components:{TheNavbar:g}};ne.render=te;var oe=ne,re={components:{AuthLayout:ee,MainLayout:oe},setup:function(){var e=Object(c["b"])();return{layout:Object(o["computed"])((function(){return e.getters["auth/isAuthenticated"]?"main-layout":"auth-layout"}))}}};re.render=r;var ce=re,ae=(n("d3b7"),n("3ca3"),n("ddb0"),[{path:"/",name:"Home",component:X,meta:{layout:"main"}},{path:"/profile",name:"Profile",component:function(){return n.e("chunk-0a837c04").then(n.bind(null,"c66d"))},meta:{layout:"main"}},{path:"/edit",name:"Edit",component:function(){return n.e("chunk-2fe668cb").then(n.bind(null,"1071"))},meta:{layout:"main"}}]),ie=Object(j["a"])({history:Object(j["b"])("/delaweb-app/"),routes:ae}),le=ie,ue=n("1da1"),se=(n("96cf"),{namespaced:!0,state:function(){return{token:null}},mutations:{setToken:function(e,t){e.token=t,localStorage.setItem("jwt-token","TEST TOKEN")},logout:function(e){e.token=null,localStorage.removeItem("jwt-token"),console.log("logout")}},actions:{login:function(e){return Object(ue["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,n("setToken","TEST TOKEN"),console.log("auth/login");case 3:case"end":return t.stop()}}),t)})))()}},getters:{token:function(e){return e.token},isAuthenticated:function(e){return!!e.token}}}),de=[];var pe=Object(c["a"])({plugins:de,state:{user:{name:"Иван",lastName:"Иванов",email:"test@test.ru",status:"Активный",country:"Украина",city:"Екатеринбург"}},mutations:{changeUser:function(e,t){e.user=t}},actions:{},getters:{user:function(e){return e.user}},modules:{auth:se}});n("441a");Object(o["createApp"])(ce).use(pe).use(le).mount("#app")},"5afe":function(e,t,n){},"6f63":function(e,t,n){},de2a:function(e,t,n){"use strict";n("5afe")},f92c:function(e,t,n){"use strict";n("6f63")}});
//# sourceMappingURL=app.e9188718.js.map